# CI/CD Pipeline Architecture - Courstease Project

## ğŸ”„ Complete CI/CD Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         DEVELOPMENT PHASE                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                    Developer writes code locally
                                  â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  git commit -m "feat: ..."â”‚
                    â”‚  git push origin branch    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          GITHUB REPOSITORY                         â”‚
â”‚                                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ Push/PR Eventâ”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ Trigger      â”‚â”€â”€â”€â”€â”€â–¶â”‚ GitHub       â”‚â”‚
â”‚  â”‚              â”‚         â”‚ Workflows    â”‚      â”‚ Actions      â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                          â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                                                 â”‚                â”‚
        â”‚                                                 â”‚                â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ CI/CD Pipeline â”‚          â”‚   PR Checks        â”‚    â”‚ Security Scan  â”‚ â”‚
â”‚  (ci-cd.yml)   â”‚          â”‚  (pr-checks.yml)   â”‚    â”‚ (security.yml) â”‚ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
        â”‚                              â”‚                                  â”‚
        â”‚                              â”‚                                  â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
        â”‚         â”‚                    â”‚                   â”‚              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â” â”Œâ”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ Backend CI  â”‚ â”‚Frontend CI â”‚ â”‚ Validate PR  â”‚ â”‚ Code Quality     â”‚    â”‚
â”‚             â”‚ â”‚            â”‚ â”‚ Title Format â”‚ â”‚ Check            â”‚    â”‚
â”‚ â€¢ Install   â”‚ â”‚ â€¢ Install  â”‚ â”‚              â”‚ â”‚                  â”‚    â”‚
â”‚ â€¢ Audit     â”‚ â”‚ â€¢ Audit    â”‚ â”‚ â€¢ Conventionalâ”‚ â”‚ â€¢ Commit msgs   â”‚    â”‚
â”‚ â€¢ Lint      â”‚ â”‚ â€¢ Lint     â”‚ â”‚   Commits    â”‚ â”‚ â€¢ File sizes    â”‚    â”‚
â”‚ â€¢ Test      â”‚ â”‚ â€¢ Test     â”‚ â”‚              â”‚ â”‚ â€¢ Code metrics  â”‚    â”‚
â”‚ â€¢ Build     â”‚ â”‚ â€¢ Build    â”‚ â”‚ â€¢ Merge      â”‚ â”‚                  â”‚    â”‚
â”‚             â”‚ â”‚            â”‚ â”‚   Conflicts  â”‚ â”‚                  â”‚    â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
      â”‚           â”‚                   â”‚                   â”‚              â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
              â”‚                                                           â”‚
              â”‚         âœ… All Checks Pass?                               â”‚
              â”‚                                                           â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”                                                 â”‚
      â”‚   NO  â”‚   YES  â”‚                                                 â”‚
      â”œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                                 â”‚
      â”‚ âŒ   â”‚    âœ…   â”‚                                                 â”‚
      â””â”€â”€â”€â”¬â”€â”€â”€â”´â”€â”€â”€â”€â”¬â”€â”€â”€â”˜                                                 â”‚
          â”‚        â”‚                                                     â”‚
  â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”  â”Œâ”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
  â”‚ âŒ FAIL  â”‚  â”‚  âœ… PASS - Ready to Merge             â”‚               â”‚
  â”‚          â”‚  â”‚                                        â”‚               â”‚
  â”‚ â€¢ Fix    â”‚  â”‚  Manual Review (optional)              â”‚               â”‚
  â”‚ â€¢ Commit â”‚  â”‚         â†“                              â”‚               â”‚
  â”‚ â€¢ Re-run â”‚  â”‚   Merge to main                        â”‚               â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
                                  â”‚                                      â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚                        DEPLOYMENT PHASE                               â”‚â”‚
â”‚                         (deploy.yml)                                  â”‚â”‚
â”‚                                                                       â”‚â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚â”‚
â”‚  â”‚  Build Frontend  â”‚              â”‚  Deploy Backend   â”‚            â”‚â”‚
â”‚  â”‚                  â”‚              â”‚                   â”‚            â”‚â”‚
â”‚  â”‚  npm run build   â”‚              â”‚  â†’ Railway        â”‚            â”‚â”‚
â”‚  â”‚                  â”‚              â”‚  â†’ Heroku         â”‚            â”‚â”‚
â”‚  â”‚  â†“               â”‚              â”‚  â†’ Azure          â”‚            â”‚â”‚
â”‚  â”‚                  â”‚              â”‚                   â”‚            â”‚â”‚
â”‚  â”‚  Deploy:         â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚â”‚
â”‚  â”‚  â†’ Vercel        â”‚                                               â”‚â”‚
â”‚  â”‚  â†’ Netlify       â”‚                                               â”‚â”‚
â”‚  â”‚  â†’ Azure SWA     â”‚                                               â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                               â”‚â”‚
â”‚                                                                      â”‚â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
                                   â”‚                                    â”‚
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
                        â”‚  ğŸš€ PRODUCTION      â”‚                        â”‚
                        â”‚                     â”‚                        â”‚
                        â”‚  App Live & Running â”‚                        â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
```

## ğŸ¯ Workflow Details

### 1ï¸âƒ£ Main CI/CD Pipeline (ci-cd.yml)

```
Trigger: Push to main/develop OR Pull Request
         â†“
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
    â”‚ Backend â”‚     â† npm ci â†’ npm audit â†’ npm test â†’ build check
    â”‚   CI    â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”
    â”‚Frontend â”‚     â† npm ci â†’ npm audit â†’ npm test â†’ npm build
    â”‚   CI    â”‚       â†’ Upload artifacts
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”
    â”‚  Code   â”‚     â† Validate commits â†’ Check file sizes
    â”‚ Quality â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2ï¸âƒ£ Pull Request Workflow (pr-checks.yml)

```
PR Created/Updated
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Validate PR Title â”‚  â† Must follow: type: description
â”‚                    â”‚    (feat:, fix:, docs:, etc.)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Check Merge        â”‚  â† Ensure no conflicts with base branch
â”‚ Conflicts          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Run Backend Tests  â”‚  â† npm ci â†’ npm test
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Run Frontend Tests â”‚  â† npm ci â†’ npm test â†’ npm build
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Auto-comment on PR â”‚  â† "âœ… All CI checks passed!"
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3ï¸âƒ£ Security Scanning (security.yml)

```
Scheduled: Monday 9 AM  OR  Push to main  OR  Manual
                 â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Backend Audit â”‚  â† npm audit --audit-level=high
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Frontend Audit â”‚  â† npm audit --audit-level=high
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Check Secrets â”‚  â† Scan for exposed passwords/tokens
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Generate Reportâ”‚  â† Upload security-report.md artifact
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4ï¸âƒ£ Deployment (deploy.yml)

```
Push to main  OR  Manual trigger
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Build Frontend  â”‚      â”‚ Deploy Backend  â”‚
â”‚                 â”‚      â”‚                 â”‚
â”‚ npm ci          â”‚      â”‚ Platform:       â”‚
â”‚ npm run build   â”‚      â”‚ â€¢ Railway       â”‚
â”‚                 â”‚      â”‚ â€¢ Heroku        â”‚
â”‚ Deploy to:      â”‚      â”‚ â€¢ Azure         â”‚
â”‚ â€¢ Vercel        â”‚      â”‚                 â”‚
â”‚ â€¢ Netlify       â”‚      â”‚                 â”‚
â”‚ â€¢ Azure SWA     â”‚      â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                        â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â†“
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚ ğŸ‰ DEPLOYED   â”‚
              â”‚               â”‚
              â”‚ App is LIVE!  â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“Š Status Flow

```
ğŸ”´ Not Started
       â†“
ğŸŸ¡ In Progress (CI running)
       â†“
    â”Œâ”€â”€â”´â”€â”€â”
    â†“     â†“
âœ… Pass  âŒ Fail
    â†“     â†“
  Merge  Fix & Retry
    â†“
ğŸš€ Deployed
```

## ğŸ¨ Color Coding

- ğŸŸ¢ **Green** = Success, approved, deployed
- ğŸŸ¡ **Yellow** = In progress, pending
- ğŸ”´ **Red** = Failed, blocked, needs attention
- ğŸ”µ **Blue** = Information, scheduled
- âšª **White** = Not started, inactive

## ğŸ“ˆ Metrics Tracked

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   CI/CD Performance Metrics     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ Build Success Rate            â”‚
â”‚ â€¢ Average Build Time            â”‚
â”‚ â€¢ Test Pass Rate                â”‚
â”‚ â€¢ Security Vulnerabilities      â”‚
â”‚ â€¢ Code Coverage (if configured) â”‚
â”‚ â€¢ Deployment Frequency          â”‚
â”‚ â€¢ Mean Time to Recovery         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ Branch Strategy Flow

```
                  main (protected)
                    â†‘
                    â”‚ PR + CI
                    â”‚
                  develop
                    â†‘
                    â”‚ PR + CI
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â†“           â†“           â†“
   feature/xxx  bugfix/xxx  hotfix/xxx
```

---

**ğŸ“Œ Note:** Semua workflow berjalan otomatis via GitHub Actions. Tidak perlu setup server CI/CD external!
